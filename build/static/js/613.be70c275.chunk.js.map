{"version":3,"file":"static/js/613.be70c275.chunk.js","mappings":"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","sources":["features/cart/Cart.js","pages/CartPage.js"],"sourcesContent":["// src/features/counter/Counter.js\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectItems,\r\n  updateCartAsync,\r\n  deleteItemFromCartAsync,\r\n  selectCartStatus,\r\n  selectCartLoaded,\r\n} from \"./cartSlice\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogBackdrop,\r\n  DialogPanel,\r\n  DialogTitle,\r\n} from \"@headlessui/react\";\r\nimport { XMarkIcon } from \"@heroicons/react/24/outline\";\r\nimport { Link, Navigate } from \"react-router-dom\";\r\nimport Modal from \"../common/Modal\";\r\n\r\nfunction Cart() {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(true); // this is not related to modalopen and clse\r\n  const items = useSelector(selectItems);\r\n  const status = useSelector(selectCartStatus);\r\n  const cartLoaded = useSelector(selectCartLoaded);\r\n  const [openModal, setOpenModal] = useState(null);\r\n  // console.log(items) //this is returning  array of items\r\n  const totalAmount = items.reduce(\r\n    (amount, item) => item.product.discountPrice * item.quantity + amount,\r\n    0\r\n  );\r\n  const totalItems = items.reduce((total, item) => item.quantity + total, 0);\r\n  // const totalPrice = items.reduce((accumulator, currentItem) => {\r\n  //   return accumulator + (currentItem.price * currentItem.quantity);\r\n  // }, 0);\r\n\r\n  const handleQuantity = (e, item) => {\r\n    e.preventDefault();\r\n    // console.log(items);\r\n    dispatch(updateCartAsync({id:item.id, quantity: +e.target.value })); // error was i was sending items instead of item\r\n  };\r\n  // console.log(items);\r\n\r\n  const handleRemove = (e, id) => {\r\n    if (e && e.preventDefault) e.preventDefault(); // error: e is undefinedfor just e.preventDefault()\r\n    dispatch(deleteItemFromCartAsync(id));\r\n    setOpenModal(null); // Optionally close the modal after delete\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!items.length && cartLoaded &&<Navigate to=\"/\" replace={true}></Navigate>}\r\n\r\n      <div className=\"mx-auto mt-20 bg-gray-200 max-w-7xl px-4 sm:px-6 lg:px-8 rounded-md border border-transparent\">\r\n        {/* <h2 className=\"text-3xl font-bold\">Cart</h2> */}\r\n\r\n        <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n          <h1 className=\"text-4xl font-bold tracking-tight my-2 text-gray-900\">\r\n            Cart\r\n          </h1>\r\n          <div className=\"flow-root\">\r\n            <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\r\n              {items.map((item) => (\r\n                <li key={item.id} className=\"flex py-6\">\r\n                  <div className=\"size-24 shrink-0 overflow-hidden rounded-md border border-gray-200\">\r\n                    <img\r\n                      alt={item.product.title}\r\n                      src={item.product.thumbnail}\r\n                      className=\"size-full object-cover\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"ml-4 flex flex-1 flex-col\">\r\n                    <div>\r\n                      <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                        <h3>\r\n                          <a href={item.product.id}>{item.product.title}</a>\r\n                        </h3>\r\n                        <div className=\"flex \">\r\n                          <p className=\"ml-4  text-gray-600\">M.R.P: </p>\r\n                          <p className=\"ml-4 line-through text-gray-600\">\r\n                            ${item.product.price}\r\n                          </p>\r\n                        </div>\r\n                        <p className=\"ml-4\">${item.product.discountPrice}</p>\r\n                      </div>\r\n                      <p className=\"mt-1 text-left text-sm text-gray-500\">\r\n                        {item.product.brand}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex flex-1 items-end justify-between text-sm\">\r\n                      <div className=\"text-gray-500\">\r\n                        {/* <label htmlFor=\"quantity\" className=\"block text-sm/6 font-medium text-gray-900\">\r\n                  Qty\r\n                </label> */}\r\n                        <label\r\n                          htmlFor=\"quantity\"\r\n                          className=\"inline mr-2  text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          Qty\r\n                        </label>\r\n                        <select\r\n                          value={item.quantity}\r\n                          onChange={(e) => handleQuantity(e, item)}\r\n                          class=\"text-sm py-1  border rounded\"\r\n                        >\r\n                          <option value=\"1\">1</option>\r\n                          <option value=\"2\">2</option>\r\n                          <option value=\"3\">3</option>\r\n                          <option value=\"4\">4</option>\r\n                          <option value=\"5\">5</option>\r\n                          <option value=\"6\">6</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div className=\"flex\">\r\n                        <Modal\r\n                        className = \"hidden\"\r\n                          title={`Delete  ${item.product.title}`}\r\n                          message=\"Are you sure you want to delete this cart item\"\r\n                          dangerOption=\"Delete\"\r\n                          cancelOption=\"Cancel\"\r\n                          dangerAction={(e) => handleRemove(e, item.id)}\r\n                          cancelAction={() => setOpenModal(null)}\r\n                          showModal={openModal === item.id}\r\n                        ></Modal>\r\n                        <button\r\n                          // problem: You are calling setOpenModal(item.id) i.e setOpenModal( item.id) immediately during render, instead of passing a function to onClick. This causes state to update on every render, which triggers another render, and so on.\r\n                          onClick={() => setOpenModal(item.id)}\r\n                          type=\"button\"\r\n                          className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n          <div className=\"flex justify-between text-base font-medium text-gray-900 my-2\">\r\n            <p>Subtotal</p>\r\n            <p>${parseFloat(totalAmount.toFixed(2))}</p>\r\n          </div>\r\n          <div className=\"flex justify-between text-base font-medium text-gray-900 my-2\">\r\n            <p>Total Items in Cart</p>\r\n            <p>{totalItems} items</p>\r\n          </div>\r\n          <p className=\"mt-0.5 text-sm text-gray-500\">\r\n            Shipping and taxes calculated at checkout.\r\n          </p>\r\n          <div className=\"mt-6\">\r\n            <Link\r\n              to=\"/checkout\"\r\n              className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-xs hover:bg-indigo-700\"\r\n            >\r\n              Checkout\r\n            </Link>\r\n          </div>\r\n          <div className=\"mt-6 flex justify-center text-center text-sm text-gray-500\">\r\n            <p>\r\n              or{\" \"}\r\n              <Link to=\"/\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setOpen(false)}\r\n                  className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                >\r\n                  Continue Shopping\r\n                  <span aria-hidden=\"true\"> &rarr;</span>\r\n                </button>\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import Cart from \"../features/cart/Cart\";\r\n\r\nfunction CartPage() {\r\n  return (\r\n    <div>\r\n      <Cart></Cart>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartPage;\r\n"],"names":["dispatch","useDispatch","open","setOpen","useState","items","useSelector","selectItems","cartLoaded","selectCartStatus","selectCartLoaded","openModal","setOpenModal","totalAmount","reduce","amount","item","product","discountPrice","quantity","totalItems","total","_jsxs","children","length","_jsx","Navigate","to","replace","className","role","map","alt","title","src","thumbnail","href","id","price","brand","htmlFor","value","onChange","e","handleQuantity","preventDefault","updateCartAsync","target","class","Modal","concat","message","dangerOption","cancelOption","dangerAction","handleRemove","deleteItemFromCartAsync","cancelAction","showModal","onClick","type","parseFloat","toFixed","Link","Cart"],"ignoreList":[],"sourceRoot":""}