"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[63],{63:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var i=t(9379),l=t(3003),a=t(5938),r=t(5043),d=t(8163),o=t(4858),c=t(3369),n=t(5927),m=t(2115),x=t(5082),u=t(579);const h=function(){const{register:e,handleSubmit:s,reset:t,formState:{errors:h}}=(0,o.mN)(),b=(0,l.wA)(),[f,g]=(0,r.useState)(!0),[p,y]=(0,r.useState)(null),[j,N]=(0,r.useState)("cash"),v=(0,l.d4)(c.oS),w=(0,l.d4)(n.cA),k=(0,l.d4)(n.bx),A=(0,l.d4)(a.rM),C=A.reduce((e,s)=>s.product.discountPrice*s.quantity+e,0),q=A.reduce((e,s)=>s.quantity+e,0),S=e=>{y(v.addresses[e.target.value])},F=e=>{N(e.target.value)};return(0,u.jsxs)(u.Fragment,{children:[!A.length&&(0,u.jsx)(d.C5,{to:"/",replace:!0}),w&&"cash"===w.paymentMethod&&(0,u.jsx)(d.C5,{to:"/order-success/".concat(w.id),replace:!0}),w&&"card"===w.paymentMethod&&(0,u.jsx)(d.C5,{to:"/stripe-checkout/",replace:!0}),"loading"===k?(0,u.jsx)(x.A,{}):(0,u.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 bg-gray-100",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-5",children:[(0,u.jsx)("div",{className:"  rounded-md border border-transparent col-span-3",children:(0,u.jsx)("form",{className:" bg-white px-5 mt-12 py-10",noValidate:!0,onSubmit:s(e=>{b((0,c.rN)((0,i.A)((0,i.A)({},v),{},{addresses:[...v.addresses,e]}))).then(()=>{b((0,c.DA)()),t()})}),children:(0,u.jsxs)("div",{className:"space-y-12",children:[(0,u.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,u.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Personal Information"}),(0,u.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600",children:"Use a permanent address where you can receive mail."}),(0,u.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,u.jsxs)("div",{className:"sm:col-span-3",children:[(0,u.jsx)("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900",children:"Full name"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"name"},e("name",{required:"Name is required"})),{},{type:"text",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]}),(0,u.jsxs)("div",{className:"sm:col-span-4",children:[(0,u.jsx)("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"email"},e("email",{required:"Email is required"})),{},{type:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]}),(0,u.jsxs)("div",{className:"sm:col-span-3",children:[(0,u.jsx)("label",{htmlFor:"phone",className:"block text-sm/6 font-medium text-gray-900",children:"Phone"}),(0,u.jsx)("div",{className:"mt-2 grid grid-cols-1",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"phone"},e("phone",{required:"Phone number is required"})),{},{type:"tel",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]}),(0,u.jsxs)("div",{className:"col-span-full",children:[(0,u.jsx)("label",{htmlFor:"street-address",className:"block text-sm/6 font-medium text-gray-900",children:"Street address"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"street"},e("street",{required:"Street is required"})),{},{type:"text",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]}),(0,u.jsxs)("div",{className:"sm:col-span-2 sm:col-start-1",children:[(0,u.jsx)("label",{htmlFor:"city",className:"block text-sm/6 font-medium text-gray-900",children:"City"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"city"},e("city",{required:"City is required"})),{},{type:"text",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]}),(0,u.jsxs)("div",{className:"sm:col-span-2",children:[(0,u.jsx)("label",{htmlFor:"state",className:"block text-sm/6 font-medium text-gray-900",children:"State / Province"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"state"},e("state",{required:"State is required"})),{},{type:"text",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]}),(0,u.jsxs)("div",{className:"sm:col-span-2",children:[(0,u.jsx)("label",{htmlFor:"pinCode",className:"block text-sm/6 font-medium text-gray-900",children:"ZIP / Postal code"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",(0,i.A)((0,i.A)({id:"pinCode"},e("pinCode",{required:"Pin Code is required"})),{},{type:"text",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}))})]})]})]}),(0,u.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,u.jsx)("button",{type:"button",className:"text-sm/6 font-semibold text-gray-900",children:"Cancel"}),(0,u.jsx)("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add address"})]}),(0,u.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,u.jsx)("h2",{className:"text-base/7 font-semibold text-gray-900",children:"Addresses"}),(0,u.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600",children:"Choose from Existing Addresses"}),(0,u.jsx)("ul",{role:"list",children:v.addresses.map((e,s)=>(0,u.jsxs)("li",{className:"flex justify-between px-5 gap-x-6 py-5 border-solid border-2 border-gray-200",children:[(0,u.jsxs)("div",{className:"flex min-w-0 gap-x-4",children:[(0,u.jsx)("input",{onChange:S,value:s,type:"radio",name:"address",className:"relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden [&:not(:checked)]:before:hidden"}),(0,u.jsxs)("div",{className:"min-w-0 flex-auto",children:[(0,u.jsx)("p",{className:"text-sm/6 font-semibold text-gray-900",children:e.name}),(0,u.jsx)("p",{className:"mt-1 truncate text-xs/5 text-gray-500",children:e.street}),(0,u.jsxs)("p",{className:"mt-1 truncate text-xs/5 text-gray-500",children:[e.city,", ",e.state]})]})]}),(0,u.jsxs)("div",{className:"hidden shrink-0 sm:flex sm:flex-col sm:items-end",children:[(0,u.jsxs)("p",{className:"text-sm/6 text-gray-900",children:["Phone: ",e.phone]}),(0,u.jsx)("p",{className:"text-sm/6 text-gray-500",children:e.email})]})]},s))}),(0,u.jsx)("div",{className:"mt-10 space-y-10",children:(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{className:"text-sm/6 font-semibold text-gray-900",children:"Payment Methods"}),(0,u.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600",children:"Choose one"}),(0,u.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,u.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,u.jsx)("input",{onChange:F,id:"cash",value:"cash",name:"payments",checked:"cash"===j,type:"radio",className:"relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden [&:not(:checked)]:before:hidden"}),(0,u.jsx)("label",{htmlFor:"cash",className:"block text-sm/6 font-medium text-gray-900",children:"Cash"})]}),(0,u.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,u.jsx)("input",{id:"card",onChange:F,value:"card",name:"payments",checked:"card"===j,type:"radio",className:"relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden [&:not(:checked)]:before:hidden"}),(0,u.jsx)("label",{htmlFor:"card",className:"block text-sm/6 font-medium text-gray-900",children:"Card Payment"})]})]})]})})]})]})})}),(0,u.jsx)("div",{className:"col-span-2",children:(0,u.jsxs)("div",{className:"mx-auto mt-20 bg-gray-200 max-w-7xl px-4 sm:px-4 lg:px-6 rounded-md border border-transparent",children:[(0,u.jsxs)("div",{className:"border-t border-gray-200 px-0 py-6 sm:px-0",children:[(0,u.jsx)("h1",{className:"text-4xl font-bold tracking-tight my-2 text-gray-900",children:"Cart"}),(0,u.jsx)("div",{className:"flow-root",children:(0,u.jsx)("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",children:A.map(e=>(0,u.jsxs)("li",{className:"flex py-6",children:[(0,u.jsx)("div",{className:"size-24 shrink-0 overflow-hidden rounded-md border border-gray-200",children:(0,u.jsx)("img",{alt:e.product.title,src:e.product.thumbnail,className:"size-full object-cover"})}),(0,u.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,u.jsx)("h3",{children:(0,u.jsx)("a",{href:e.product.href,children:e.product.title})}),(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("p",{className:"ml-4  text-gray-600",children:"M.R.P:"}),(0,u.jsxs)("p",{className:"ml-4 line-through text-gray-600",children:["$",e.product.price]})]}),(0,u.jsxs)("p",{className:"ml-4 font-bold",children:["$",e.product.discountPrice]})]}),(0,u.jsx)("p",{className:"mt-1 text-left text-sm text-gray-500",children:e.product.brand})]}),(0,u.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,u.jsxs)("div",{className:"text-gray-500",children:[(0,u.jsx)("label",{htmlFor:"quantity",className:"inline mr-2  text-sm/6 font-medium text-gray-900",children:"Qty"}),(0,u.jsxs)("select",{value:e.quantity,onChange:s=>((e,s)=>{b((0,a._X)({id:s.id,quantity:+e.target.value}))})(s,e),class:"text-sm py-1  border rounded",children:[(0,u.jsx)("option",{value:"1",children:"1"}),(0,u.jsx)("option",{value:"2",children:"2"}),(0,u.jsx)("option",{value:"3",children:"3"}),(0,u.jsx)("option",{value:"4",children:"4"}),(0,u.jsx)("option",{value:"5",children:"5"}),(0,u.jsx)("option",{value:"6",children:"6"})]})]}),(0,u.jsx)("div",{className:"flex",children:(0,u.jsx)("button",{onClick:s=>{return t=e.id,void b((0,a.jL)(t));var t},type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Remove"})})]})]})]},e.id))})})]}),(0,u.jsxs)("div",{className:"border-t border-gray-200 px-2 py-6 sm:px-2",children:[(0,u.jsxs)("div",{className:"flex justify-between text-base font-bold text-gray-900 my-2",children:[(0,u.jsx)("p",{children:"Subtotal: "}),(0,u.jsxs)("p",{children:["$",parseFloat(C.toFixed(2))]})]}),(0,u.jsxs)("div",{className:"flex  justify-between text-base font-bold text-gray-900 my-2",children:[(0,u.jsx)("p",{children:"Total Items in Cart: "}),(0,u.jsxs)("p",{children:[q," items"]})]}),(0,u.jsx)("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout."}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("div",{onClick:e=>{if(e.preventDefault(),p&&j){const e={items:A,totalAmount:C,totalItems:q,user:v.id,paymentMethod:j,selectedAddress:p,status:"pending"};b((0,n.X7)(e))}else(0,m.oR)("Please select address and payment method")},className:"flex items-center justify-center cursor-pointer rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-xs hover:bg-indigo-700",children:"Order Now"})}),(0,u.jsx)("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:(0,u.jsxs)("p",{children:["or"," ",(0,u.jsx)(d.N_,{to:"/",children:(0,u.jsxs)("button",{type:"button",onClick:()=>g(!1),className:"font-medium text-indigo-600 hover:text-indigo-500",children:["Continue Shopping",(0,u.jsx)("span",{"aria-hidden":"true",children:" \u2192"})]})})]})})]})]})})]})})]})}},5082:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var i=t(4450),l=t(579);const a=()=>(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80",children:(0,l.jsx)(i.xA,{height:"80",width:"80",color:"rgb(79, 70, 229)",ariaLabel:"grid-loading",radius:"12.5",wrapperStyle:{},wrapperClass:"",visible:!0})})}}]);
//# sourceMappingURL=63.32dd2d0f.chunk.js.map