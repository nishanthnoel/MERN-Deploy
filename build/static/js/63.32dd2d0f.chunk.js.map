{"version":3,"file":"static/js/63.32dd2d0f.chunk.js","mappings":"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","sources":["pages/Checkout.js","features/common/LoaderSpinner.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectItems,\r\n  updateCartAsync,\r\n  deleteItemFromCartAsync,\r\n} from \"../features/cart/cartSlice\";\r\nimport { useState, useCallback } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogBackdrop,\r\n  DialogPanel,\r\n  DialogTitle,\r\n} from \"@headlessui/react\";\r\nimport { XMarkIcon } from \"@heroicons/react/24/outline\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ChevronDownIcon } from \"@heroicons/react/20/solid\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  fetchLoggedInUserAsync,\r\n  selectLoggedInUserToken,\r\n  updateUserAsync,\r\n} from \"../features/user/userSlice\";\r\nimport {\r\n  createOrderAsync,\r\n  selectCurrentOrder,\r\n  selectOrderStatus,\r\n} from \"../features/order/orderSlice\";\r\nimport { selectUserInfo } from \"../features/user/userSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport LoaderSpinner from \"../features/common/LoaderSpinner\";\r\n\r\nfunction Checkout() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(true);\r\n  const [selectedAddress, setSelectedAddress] = useState(null);\r\n  const [paymentMethod, setPaymentMethod] = useState(\"cash\");\r\n  const userInfo = useSelector(selectUserInfo);\r\n  const currentOrder = useSelector(selectCurrentOrder);\r\n  const status = useSelector(selectOrderStatus);\r\n  // console.log(userInfo); // this logs out when checkout page is loaded\r\n\r\n  const items = useSelector(selectItems);\r\n  // console.log(items) //this is returning  array of items\r\n  const totalAmount = items.reduce(\r\n    // (amount, item) => discountedPrice(item) * item.quantity + amount, //not required when connecting to backend. the state item selector of the cart has been changed in backend\r\n    (amount, item) => item.product.discountPrice * item.quantity + amount,\r\n    0\r\n  );\r\n  const totalItems = items.reduce((total, item) => item.quantity + total, 0);\r\n  // const totalPrice = items.reduce((accumulator, currentItem) => {\r\n  //   return accumulator + (currentItem.price * currentItem.quantity);\r\n  // }, 0);\r\n\r\n  const handleQuantity = (e, item) => {\r\n    // console.log(items);\r\n    dispatch(updateCartAsync({ id: item.id, quantity: +e.target.value })); // error was i was sending items instead of item\r\n  };\r\n  // console.log(items);\r\n\r\n  const handleRemove = (e, id) => {\r\n    dispatch(deleteItemFromCartAsync(id));\r\n  };\r\n\r\n  const handleAddress = (e) => {\r\n    // console.log(e.target.value);\r\n    setSelectedAddress(userInfo.addresses[e.target.value]);\r\n  };\r\n\r\n  const handlePayment = (e) => {\r\n    setPaymentMethod(e.target.value);\r\n  };\r\n  const handleOrder = (e) => {\r\n    e.preventDefault();\r\n    if (selectedAddress && paymentMethod) {\r\n      const order = {\r\n        items,\r\n        totalAmount,\r\n        totalItems,\r\n        // user,\r\n        user: userInfo.id,\r\n        paymentMethod,\r\n        selectedAddress,\r\n        status: \"pending\", // other status can be delivered, cancelled etc.\r\n      };\r\n      dispatch(createOrderAsync(order)); // redirect to order success page\r\n     //after this the total number of stocks should be reduced. this is handled in the backend\r\n    } else {\r\n      toast(\"Please select address and payment method\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!items.length && <Navigate to=\"/\" replace={true}></Navigate>}\r\n      {currentOrder && currentOrder.paymentMethod === \"cash\" && (\r\n        <Navigate\r\n          to={`/order-success/${currentOrder.id}`}\r\n          replace={true}\r\n        ></Navigate>\r\n      )}\r\n      {currentOrder && currentOrder.paymentMethod === \"card\" && (\r\n        <Navigate to={`/stripe-checkout/`} replace={true}></Navigate>\r\n      )}\r\n      {status === \"loading\" ? (\r\n        <LoaderSpinner />\r\n      ) : (\r\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 bg-gray-100\">\r\n          <div className=\"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-5\">\r\n            <div className=\"  rounded-md border border-transparent col-span-3\">\r\n              <form\r\n                className=\" bg-white px-5 mt-12 py-10\"\r\n                noValidate\r\n                onSubmit={handleSubmit((data) => {\r\n                  // console.log(data); // we get object of the input data. this data is the new address\r\n                  dispatch(\r\n                    updateUserAsync({\r\n                      ...userInfo,\r\n                      addresses: [...userInfo.addresses, data],\r\n                    })\r\n                  ).then(() => {\r\n                    dispatch(fetchLoggedInUserAsync()); // refetch user info after update\r\n                    reset();\r\n                  });\r\n                })}\r\n              >\r\n                <div className=\"space-y-12\">\r\n                  <div className=\"border-b border-gray-900/10 pb-12\">\r\n                    <h2 className=\"text-2xl font-semibold text-gray-900\">\r\n                      Personal Information\r\n                    </h2>\r\n                    <p className=\"mt-1 text-sm/6 text-gray-600\">\r\n                      Use a permanent address where you can receive mail.\r\n                    </p>\r\n\r\n                    <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n                      <div className=\"sm:col-span-3\">\r\n                        <label\r\n                          htmlFor=\"name\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          Full name\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                          <input\r\n                            id=\"name\"\r\n                            // name=\"name\"\r\n                            {...register(\"name\", {\r\n                              required: \"Name is required\",\r\n                            })}\r\n                            type=\"text\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"sm:col-span-4\">\r\n                        <label\r\n                          htmlFor=\"email\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          Email address\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                          <input\r\n                            id=\"email\"\r\n                            {...register(\"email\", {\r\n                              required: \"Email is required\",\r\n                            })}\r\n                            type=\"email\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"sm:col-span-3\">\r\n                        <label\r\n                          htmlFor=\"phone\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          Phone\r\n                        </label>\r\n                        <div className=\"mt-2 grid grid-cols-1\">\r\n                          <input\r\n                            id=\"phone\"\r\n                            {...register(\"phone\", {\r\n                              required: \"Phone number is required\",\r\n                            })}\r\n                            type=\"tel\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-span-full\">\r\n                        <label\r\n                          htmlFor=\"street-address\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          Street address\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                          <input\r\n                            id=\"street\"\r\n                            {...register(\"street\", {\r\n                              required: \"Street is required\",\r\n                            })}\r\n                            type=\"text\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"sm:col-span-2 sm:col-start-1\">\r\n                        <label\r\n                          htmlFor=\"city\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          City\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                          <input\r\n                            id=\"city\"\r\n                            {...register(\"city\", {\r\n                              required: \"City is required\",\r\n                            })}\r\n                            type=\"text\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"sm:col-span-2\">\r\n                        <label\r\n                          htmlFor=\"state\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          State / Province\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                          <input\r\n                            id=\"state\"\r\n                            {...register(\"state\", {\r\n                              required: \"State is required\",\r\n                            })}\r\n                            type=\"text\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"sm:col-span-2\">\r\n                        <label\r\n                          htmlFor=\"pinCode\"\r\n                          className=\"block text-sm/6 font-medium text-gray-900\"\r\n                        >\r\n                          ZIP / Postal code\r\n                        </label>\r\n                        <div className=\"mt-2\">\r\n                          <input\r\n                            id=\"pinCode\"\r\n                            {...register(\"pinCode\", {\r\n                              required: \"Pin Code is required\",\r\n                            })}\r\n                            type=\"text\"\r\n                            className=\"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900  border-gray-400 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* cancel and save button */}\r\n                  <div className=\"mt-6 flex items-center justify-end gap-x-6\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"text-sm/6 font-semibold text-gray-900\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n                    >\r\n                      Add address\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"border-b border-gray-900/10 pb-12\">\r\n                    <h2 className=\"text-base/7 font-semibold text-gray-900\">\r\n                      Addresses\r\n                    </h2>\r\n                    <p className=\"mt-1 text-sm/6 text-gray-600\">\r\n                      Choose from Existing Addresses\r\n                    </p>\r\n                    <ul role=\"list\">\r\n                      {userInfo.addresses.map((address, index) => (\r\n                        <li\r\n                          key={index}\r\n                          className=\"flex justify-between px-5 gap-x-6 py-5 border-solid border-2 border-gray-200\"\r\n                        >\r\n                          <div className=\"flex min-w-0 gap-x-4\">\r\n                            <input\r\n                              onChange={handleAddress}\r\n                              value={index}\r\n                              type=\"radio\"\r\n                              name=\"address\"\r\n                              className=\"relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden [&:not(:checked)]:before:hidden\"\r\n                            />\r\n                            <div className=\"min-w-0 flex-auto\">\r\n                              <p className=\"text-sm/6 font-semibold text-gray-900\">\r\n                                {address.name}\r\n                              </p>\r\n                              <p className=\"mt-1 truncate text-xs/5 text-gray-500\">\r\n                                {address.street}\r\n                              </p>\r\n                              <p className=\"mt-1 truncate text-xs/5 text-gray-500\">\r\n                                {address.city}, {address.state}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\">\r\n                            <p className=\"text-sm/6 text-gray-900\">\r\n                              Phone: {address.phone}\r\n                            </p>\r\n                            <p className=\"text-sm/6 text-gray-500\">\r\n                              {address.email}\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n\r\n                    <div className=\"mt-10 space-y-10\">\r\n                      <fieldset>\r\n                        <legend className=\"text-sm/6 font-semibold text-gray-900\">\r\n                          Payment Methods\r\n                        </legend>\r\n                        <p className=\"mt-1 text-sm/6 text-gray-600\">\r\n                          Choose one\r\n                        </p>\r\n                        <div className=\"mt-6 space-y-6\">\r\n                          <div className=\"flex items-center gap-x-3\">\r\n                            <input\r\n                              onChange={handlePayment}\r\n                              id=\"cash\"\r\n                              value=\"cash\"\r\n                              name=\"payments\"\r\n                              checked={paymentMethod === \"cash\"}\r\n                              type=\"radio\"\r\n                              className=\"relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden [&:not(:checked)]:before:hidden\"\r\n                            />\r\n                            <label\r\n                              htmlFor=\"cash\"\r\n                              className=\"block text-sm/6 font-medium text-gray-900\"\r\n                            >\r\n                              Cash\r\n                            </label>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-x-3\">\r\n                            <input\r\n                              id=\"card\"\r\n                              onChange={handlePayment}\r\n                              value=\"card\"\r\n                              name=\"payments\"\r\n                              checked={paymentMethod === \"card\"}\r\n                              type=\"radio\"\r\n                              className=\"relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden [&:not(:checked)]:before:hidden\"\r\n                            />\r\n                            <label\r\n                              htmlFor=\"card\"\r\n                              className=\"block text-sm/6 font-medium text-gray-900\"\r\n                            >\r\n                              Card Payment\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                      </fieldset>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"col-span-2\">\r\n              <div className=\"mx-auto mt-20 bg-gray-200 max-w-7xl px-4 sm:px-4 lg:px-6 rounded-md border border-transparent\">\r\n                {/* <h2 className=\"text-3xl font-bold\">Cart</h2> */}\r\n\r\n                <div className=\"border-t border-gray-200 px-0 py-6 sm:px-0\">\r\n                  <h1 className=\"text-4xl font-bold tracking-tight my-2 text-gray-900\">\r\n                    Cart\r\n                  </h1>\r\n                  <div className=\"flow-root\">\r\n                    <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\r\n                      {items.map((item) => (\r\n                        <li key={item.id} className=\"flex py-6\">\r\n                          <div className=\"size-24 shrink-0 overflow-hidden rounded-md border border-gray-200\">\r\n                            <img\r\n                              // alt={item.thumbnail}//when connecting to backend\r\n                              alt={item.product.title}\r\n                              src={item.product.thumbnail}\r\n                              className=\"size-full object-cover\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div className=\"ml-4 flex flex-1 flex-col\">\r\n                            <div>\r\n                              <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                                <h3>\r\n                                  <a href={item.product.href}>\r\n                                    {item.product.title}\r\n                                  </a>\r\n                                </h3>\r\n                                <div className=\"flex\">\r\n                                  <p className=\"ml-4  text-gray-600\">M.R.P:</p>\r\n                                  <p className=\"ml-4 line-through text-gray-600\">\r\n                                    ${item.product.price}\r\n                                  </p>\r\n                                </div>\r\n                                <p className=\"ml-4 font-bold\">\r\n                                  ${item.product.discountPrice}\r\n                                </p>\r\n                              </div>\r\n                              <p className=\"mt-1 text-left text-sm text-gray-500\">\r\n                                {item.product.brand}\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"flex flex-1 items-end justify-between text-sm\">\r\n                              <div className=\"text-gray-500\">\r\n                                {/* <label htmlFor=\"quantity\" className=\"block text-sm/6 font-medium text-gray-900\">\r\n                  Qty\r\n                </label> */}\r\n                                <label\r\n                                  htmlFor=\"quantity\"\r\n                                  className=\"inline mr-2  text-sm/6 font-medium text-gray-900\"\r\n                                >\r\n                                  Qty\r\n                                </label>\r\n                                <select\r\n                                  value={item.quantity}\r\n                                  onChange={(e) => handleQuantity(e, item)}\r\n                                  class=\"text-sm py-1  border rounded\"\r\n                                >\r\n                                  <option value=\"1\">1</option>\r\n                                  <option value=\"2\">2</option>\r\n                                  <option value=\"3\">3</option>\r\n                                  <option value=\"4\">4</option>\r\n                                  <option value=\"5\">5</option>\r\n                                  <option value=\"6\">6</option>\r\n                                </select>\r\n                              </div>\r\n\r\n                              <div className=\"flex\">\r\n                                <button\r\n                                  onClick={(e) => handleRemove(e, item.id)}\r\n                                  type=\"button\"\r\n                                  className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                                >\r\n                                  Remove\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border-t border-gray-200 px-2 py-6 sm:px-2\">\r\n                  <div className=\"flex justify-between text-base font-bold text-gray-900 my-2\">\r\n                    <p>Subtotal: </p>\r\n                    <p>${parseFloat(totalAmount.toFixed(2))}</p>\r\n                  </div>\r\n                  <div className=\"flex  justify-between text-base font-bold text-gray-900 my-2\">\r\n                    <p>Total Items in Cart: </p>\r\n                    <p>{totalItems} items</p>\r\n                  </div>\r\n                  <p className=\"mt-0.5 text-sm text-gray-500\">\r\n                    Shipping and taxes calculated at checkout.\r\n                  </p>\r\n                  <div className=\"mt-6\">\r\n                    <div\r\n                      onClick={handleOrder}\r\n                      className=\"flex items-center justify-center cursor-pointer rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-xs hover:bg-indigo-700\"\r\n                    >\r\n                      Order Now\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-6 flex justify-center text-center text-sm text-gray-500\">\r\n                    <p>\r\n                      or{\" \"}\r\n                      <Link to=\"/\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => setOpen(false)}\r\n                          className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                        >\r\n                          Continue Shopping\r\n                          <span aria-hidden=\"true\"> &rarr;</span>\r\n                        </button>\r\n                      </Link>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","// Spinner.jsx\r\n// export default function LoaderSpinner() {\r\n//   return (\r\n//     <div className=\"sk-chase relative w-10 h-10 animate-sk-chase\">\r\n//       {[...Array(6)].map((_, i) => (\r\n//         <div\r\n//           key={i}\r\n//           className={`sk-chase-dot absolute left-0 top-0 w-full h-full animate-sk-chase-dot`}\r\n//           style={{ animationDelay: `${-1.1 + i * 0.1}s` }}\r\n//         >\r\n//           <div\r\n//             className=\"absolute w-1/4 h-1/4 bg-white rounded-full animate-sk-chase-dot-before\"\r\n//             style={{ animationDelay: `${-1.1 + i * 0.1}s` }}\r\n//           />\r\n//         </div>\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nimport React from \"react\";\r\nimport { Grid } from \"react-loader-spinner\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    // Tailwind classes for positioning, centering, z-index, and background\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80\">\r\n      <Grid\r\n        height=\"80\"\r\n        width=\"80\"\r\n        color=\"rgb(79, 70, 229)\"\r\n        ariaLabel=\"grid-loading\"\r\n        radius=\"12.5\"\r\n        wrapperStyle={{}}\r\n        wrapperClass=\"\"\r\n        visible={true}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n"],"names":["register","handleSubmit","reset","formState","errors","useForm","dispatch","useDispatch","open","setOpen","useState","selectedAddress","setSelectedAddress","paymentMethod","setPaymentMethod","userInfo","useSelector","selectUserInfo","currentOrder","selectCurrentOrder","status","selectOrderStatus","items","selectItems","totalAmount","reduce","amount","item","product","discountPrice","quantity","totalItems","total","handleAddress","e","addresses","target","value","handlePayment","_jsxs","_Fragment","children","length","_jsx","Navigate","to","replace","concat","id","LoaderSpinner","className","noValidate","onSubmit","data","updateUserAsync","_objectSpread","then","fetchLoggedInUserAsync","htmlFor","required","type","role","map","address","index","onChange","name","street","city","state","phone","email","checked","alt","title","src","thumbnail","href","price","brand","handleQuantity","updateCartAsync","class","onClick","handleRemove","deleteItemFromCartAsync","parseFloat","toFixed","preventDefault","order","user","createOrderAsync","toast","Link","Loader","Grid","height","width","color","ariaLabel","radius","wrapperStyle","wrapperClass","visible"],"ignoreList":[],"sourceRoot":""}